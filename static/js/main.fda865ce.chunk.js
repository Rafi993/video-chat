(this["webpackJsonpvideo-chat"]=this["webpackJsonpvideo-chat"]||[]).push([[0],{21:function(e,t,n){e.exports=n(57)},26:function(e,t,n){},48:function(e,t){},50:function(e,t){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(19),r=n.n(c),i=(n(26),n(2)),l=n(20),u=n.n(l),s=function(e){var t=e.setConnectionType;return o.a.createElement("div",{className:"connectionType"},o.a.createElement("h2",null,"Start Chatting"),o.a.createElement("button",{className:"buttonOutline",onClick:function(){return t("newConnection")}},"Start New Connection"),o.a.createElement("button",{className:"buttonOutline",onClick:function(){return t("existingConnection")}},"Join Existing Connection"))},m=function(e){e.setConnectionType;var t=e.startChatting,n=e.user1Id,c=(e.user2Id,e.setUser2Id,Object(a.useState)("")),r=Object(i.a)(c,2),l=r[0],u=r[1],s=Object(a.useCallback)((function(e){u(e.target.value)}),[u]),m=Object(a.useCallback)((function(e){e.preventDefault(),t()}),[t]);return o.a.createElement("form",{className:"connection",onSubmit:m},o.a.createElement("div",{className:"formGroup"},o.a.createElement("h3",null,"Your ID"),o.a.createElement("input",{type:"text",value:n,spellCheck:!1,readOnly:!0})),o.a.createElement("div",{className:"formGroup"},o.a.createElement("h3",null,"Other UserId"),o.a.createElement("input",{type:"text",value:l,onChange:s,spellCheck:!1,required:!0})),o.a.createElement("button",{type:"submit",className:"buttonOutline"},"Connect"))},d=null,b=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),l=Object(i.a)(r,2),b=l[0],f=l[1],v=Object(a.useState)(""),p=Object(i.a)(v,2),O=p[0],h=p[1],E=Object(a.useState)(""),C=Object(i.a)(E,2),g=C[0],j=C[1],y=Object(a.useState)(null),k=Object(i.a)(y,2),w=k[0],N=k[1];Object(a.useEffect)((function(){navigator.getUserMedia({video:!0,audio:!1},(function(e){(d=new u.a({initiator:"newConnection"===n,trickle:!1,stream:e})).on("signal",(function(e){h(JSON.stringify(e))})),d.on("stream",(function(e){var t=document.getElementById("video");t.srcObject=e,t.play()})),d.on("error",(function(e){return N("Unable to use users video camera")}))}),(function(e){console.log(e),N("Unable to use users video camera2")}))}),[n,h,N]);var S=Object(a.useCallback)((function(){f(!0),d.signal(JSON.parse(g))}),[g,f]);return o.a.createElement("div",{className:"app"},!1===b&&null===n&&o.a.createElement(s,{setConnectionType:c}),!1===b&&null!==n&&o.a.createElement(m,{setConnectionType:c,startChatting:S,user1Id:O,user2Id:g,setUser2Id:j}),b&&o.a.createElement("video",{id:"video"}),w&&o.a.createElement("h3",null,w))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.fda865ce.chunk.js.map